{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('form');\nconst KEY = 'feedback-form-state';\nconst data = JSON.parse(localStorage.getItem(KEY)) ?? {\n  email: '',\n  message: '',\n};\n\nconst setFormData = (form, data) => {\n  form.elements.email.value = data.email;\n  form.elements.message.value = data.message;\n};\n\nconst onInput = throttle(e => {\n  data[e.target.name] = e.target.value;\n  localStorage.setItem(KEY, JSON.stringify(data));\n}, 500);\n\nconst onSubmit = e => {\n  e.preventDefault();\n\n  console.log(data);\n  localStorage.removeItem(KEY);\n  setFormData(form, { email: '', message: '' });\n};\n\nsetFormData(form, data);\nform.addEventListener('submit', onSubmit);\nform.addEventListener('input', onInput);\n"],"names":["form","KEY","data","setFormData","onInput","throttle","onSubmit"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAM,sBACNC,EAAO,KAAK,MAAM,aAAa,QAAQD,CAAG,CAAC,GAAK,CACpD,MAAO,GACP,QAAS,EACX,EAEME,EAAc,CAACH,EAAME,IAAS,CAClCF,EAAK,SAAS,MAAM,MAAQE,EAAK,MACjCF,EAAK,SAAS,QAAQ,MAAQE,EAAK,OACrC,EAEME,EAAUC,EAAS,GAAK,CAC5BH,EAAK,EAAE,OAAO,IAAI,EAAI,EAAE,OAAO,MAC/B,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAChD,EAAG,GAAG,EAEAI,EAAW,GAAK,CACpB,EAAE,eAAc,EAEhB,QAAQ,IAAIJ,CAAI,EAChB,aAAa,WAAWD,CAAG,EAC3BE,EAAYH,EAAM,CAAE,MAAO,GAAI,QAAS,EAAE,CAAE,CAC9C,EAEAG,EAAYH,EAAME,CAAI,EACtBF,EAAK,iBAAiB,SAAUM,CAAQ,EACxCN,EAAK,iBAAiB,QAASI,CAAO"}