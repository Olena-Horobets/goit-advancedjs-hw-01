{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('form');\nconst KEY = 'feedback-form-state';\nconst data = JSON.parse(localStorage.getItem(KEY)) ?? {\n  email: '',\n  message: '',\n};\n\nconst setFormData = (form, data) => {\n  form.elements.email.value = data.email;\n  form.elements.message.value = data.message;\n};\n\nconst onInput = throttle(e => {\n  data[e.target.name] = e.target.value;\n  localStorage.setItem(KEY, JSON.stringify(data));\n}, 500);\n\nconst onSubmit = e => {\n  e.preventDefault();\n\n  if (!data.email || !data.message) {\n    return alert('Please, fill all form fields');\n  }\n\n  console.log(data);\n  localStorage.removeItem(KEY);\n  data.email = '';\n  data.message = '';\n  setFormData(form, data);\n};\n\nsetFormData(form, data);\nform.addEventListener('submit', onSubmit);\nform.addEventListener('input', onInput);\n"],"names":["form","KEY","data","setFormData","onInput","throttle","e","onSubmit"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAM,sBACNC,EAAO,KAAK,MAAM,aAAa,QAAQD,CAAG,CAAC,GAAK,CACpD,MAAO,GACP,QAAS,EACX,EAEME,EAAc,CAACH,EAAME,IAAS,CAClCF,EAAK,SAAS,MAAM,MAAQE,EAAK,MACjCF,EAAK,SAAS,QAAQ,MAAQE,EAAK,OACrC,EAEME,EAAUC,EAASC,GAAK,CAC5BJ,EAAKI,EAAE,OAAO,IAAI,EAAIA,EAAE,OAAO,MAC/B,aAAa,QAAQL,EAAK,KAAK,UAAUC,CAAI,CAAC,CAChD,EAAG,GAAG,EAEAK,EAAWD,GAAK,CAGpB,GAFAA,EAAE,eAAc,EAEZ,CAACJ,EAAK,OAAS,CAACA,EAAK,QACvB,OAAO,MAAM,8BAA8B,EAG7C,QAAQ,IAAIA,CAAI,EAChB,aAAa,WAAWD,CAAG,EAC3BC,EAAK,MAAQ,GACbA,EAAK,QAAU,GACfC,EAAYH,EAAME,CAAI,CACxB,EAEAC,EAAYH,EAAME,CAAI,EACtBF,EAAK,iBAAiB,SAAUO,CAAQ,EACxCP,EAAK,iBAAiB,QAASI,CAAO"}